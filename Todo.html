<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>TODO z datƒÖ i terminem</title>

  <!-- === STYLE (CSS) === -->
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(135deg, #74ABE2, #5563DE);
      margin: 0;
      padding: 40px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      color: #333;
    }

    .container {
      background: #fff;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      width: 100%;
      max-width: 500px;
      text-align: center;
      animation: fadeIn 0.6s ease;
    }

    h1 {
      margin-bottom: 15px;
      color: #334;
    }

    .inputs {
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
    }

    input, button, select {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      outline: none;
    }

    input[type="text"] {
      width: 80%;
    }

    input[type="date"] {
      width: 50%;
    }

    input:focus {
      border-color: #5563DE;
    }

    button {
      background: #5563DE;
      color: white;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background: #3843b5;
    }

    select {
      background: #f4f4f4;
      margin-top: 10px;
    }

    ul {
      list-style: none;
      padding: 0;
      margin-top: 20px;
      text-align: left;
    }

    li {
      background: #f4f6ff;
      padding: 10px 15px;
      margin: 8px 0;
      border-radius: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background 0.3s, transform 0.2s;
    }

    li:hover {
      background: #e0e4ff;
      transform: translateY(-2px);
    }

    .info {
      display: flex;
      flex-direction: column;
    }

    .time {
      font-size: 12px;
      color: #777;
    }

    .due {
      font-size: 13px;
      color: #cc3333;
    }

    li button {
      background: #ff5c5c;
      padding: 5px 10px;
      border-radius: 6px;
    }

    li button:hover {
      background: #d94b4b;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body>
  <!-- === HTML === -->
  <div class="container">
    <h1>üìù Lista zada≈Ñ</h1>

    <!-- Pola do wpisania zadania i daty -->
    <div class="inputs">
      <input id="taskInput" type="text" placeholder="Nowe zadanie...">
      <input id="dueDate" type="date">
      <button onclick="addTask()">Dodaj zadanie</button>
    </div>

    <!-- Wyb√≥r sortowania -->
    <div>
      <select id="sortSelect" onchange="sortTasks()">
        <option value="newest">Sortuj: Najnowsze</option>
        <option value="oldest">Sortuj: Najstarsze</option>
        <option value="az">Sortuj: A‚ÄìZ</option>
        <option value="za">Sortuj: Z‚ÄìA</option>
      </select>
    </div>

    <!-- Lista zada≈Ñ -->
    <ul id="taskList"></ul>
  </div>

  <!-- === SKRYPT (JavaScript) === -->
  <script>
    let tasks = []; // Tablica z zadaniami

    // Dodawanie nowego zadania
    function addTask() {
      const input = document.getElementById('taskInput');
      const dueInput = document.getElementById('dueDate');
      const text = input.value.trim();
      const due = dueInput.value;

      if (text === '') return; // Puste ‚Äî nie dodawaj

      // Data dodania
      const now = new Date();
      const date = now.toLocaleDateString();
      const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

      // Obiekt zadania
      const task = {
        text: text,
        date: date,
        time: time,
        due: due || 'brak terminu',
        createdAt: now.getTime()
      };

      tasks.push(task);
      input.value = '';
      dueInput.value = '';

      renderTasks(); // Od≈õwie≈º listƒô
    }

    // Wy≈õwietlanie listy zada≈Ñ
    function renderTasks() {
      const list = document.getElementById('taskList');
      list.innerHTML = '';

      for (const task of tasks) {
        const li = document.createElement('li');

        // Lewa strona zadania
        const info = document.createElement('div');
        info.className = 'info';

        const span = document.createElement('span');
        span.textContent = task.text;

        const small = document.createElement('div');
        small.className = 'time';
        small.textContent = `${task.date} ‚Ä¢ ${task.time}`;

        const due = document.createElement('div');
        due.className = 'due';
        due.textContent = `Termin: ${task.due}`;

        info.appendChild(span);
        info.appendChild(small);
        info.appendChild(due);

        // Prawa strona ‚Äî przycisk usu≈Ñ
        const del = document.createElement('button');
        del.textContent = 'Usu≈Ñ';
        del.onclick = () => {
          tasks = tasks.filter(t => t !== task);
          renderTasks();
        };

        li.appendChild(info);
        li.appendChild(del);
        list.appendChild(li);
      }
    }

    // Sortowanie zada≈Ñ
    function sortTasks() {
      const mode = document.getElementById('sortSelect').value;

      if (mode === 'az') {
        tasks.sort((a, b) => a.text.localeCompare(b.text));
      } else if (mode === 'za') {
        tasks.sort((a, b) => b.text.localeCompare(a.text));
      } else if (mode === 'newest') {
        tasks.sort((a, b) => b.createdAt - a.createdAt);
      } else if (mode === 'oldest') {
        tasks.sort((a, b) => a.createdAt - b.createdAt);
      }

      renderTasks();
    }
  </script>
</body>
</html>
